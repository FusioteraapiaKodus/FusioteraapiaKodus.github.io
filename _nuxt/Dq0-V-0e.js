var se=Object.defineProperty;var ne=(e,a,s)=>a in e?se(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;var m=(e,a,s)=>ne(e,typeof a!="symbol"?a+"":a,s);import{_ as oe,a as ie}from"./Dv97_bOP.js";import{y as ue,r as p,p as j,x as T,z as re,k as B,C as de,D as me,q as ve,s as N,E as ce,F as P,G as h,H as L,J as fe,K as pe,L as _e,M as ge,N as $,O as A,u as K,P as D,Q as be,o as b,c as E,R as H,B as Z,I as G,S as Y,a as o,w as n,U as V,e as x,V as O,W as C,X as F,d as u,Y as he,g as ye,h as xe,f as ke,i as Se,b as Ve,_ as Ce}from"./DNCKBdef.js";import{_ as Fe}from"./yC4h32u6.js";import{_ as we}from"./B2OQ4EK2.js";import"./C7TzN_wB.js";const Ie={for:{type:String}};function Pe(e,a){const s=e.for||ue(a),r=p(!!s);return{class:{},attr:j(()=>({...T(s,"for",s)})),state:{id:s,useDOM:r}}}function Te(e){return Pe(e,{name:"formLabel"})}function J(e){return re(e,{name:"formLabel"})}const je=B({name:"FormLabel",props:{...de,...Ie,tag:{type:String,default:"label"}},setup(e,a){const s=me(e),r=Te(e),d={class:{"form-label":!0}};return()=>ve(e.tag,N(d,s,r),a.slots)}}),W={stateSrc:{type:Object},statePath:{type:String},validate:{type:Boolean}};function X(e,a){var c,t,f;const s=p(a.value),r=p(!1),d=i=>{s.value=i,e.stateSrc&&(e.statePath?e.stateSrc.set(e.statePath,i):e.stateSrc.update(i))},l=()=>{if(e.stateSrc){const i=h(e.stateSrc.data);e.statePath?s.value=L(i,e.statePath):s.value=i,a.value=s.value}};l();const g=()=>{var i;if(e.validate&&e.stateSrc){const k=h((i=e.stateSrc)==null?void 0:i.validationResult);if(e.statePath){const w=L(k.location,e.statePath);r.value=!w}else r.value=k.valid}};if(e.stateSrc!==void 0){if(e.statePath!==void 0){if((c=e.stateSrc)!=null&&c.data&&ce((t=e.stateSrc)==null?void 0:t.data))throw new Error("Even though stateSrc data is of type string, statePath has been specified.");P((f=e.stateSrc)==null?void 0:f.data,()=>{var i;h((i=e.stateSrc)==null?void 0:i.data)!=s.value&&l()})}else P(()=>{var i;return(i=e.stateSrc)==null?void 0:i.data},()=>{var i;h((i=e.stateSrc)==null?void 0:i.data)!=s.value&&l()});P(()=>{var i;return(i=e.stateSrc)==null?void 0:i.validationResult},()=>{g()})}const y=j(()=>{if(e.validate){if(e.stateSrc!==void 0)return{[`is-${r.value?"valid":"invalid"}`]:!0}}else return{}});return P(a,()=>{d(a.value)}),g(),{value:s,updateValue:d,classObject:y}}const q={size:{type:String},disabled:{type:[Boolean,String]},readonly:{type:[Boolean,String]}};function Q(e){return{class:j(()=>({[`form-control${fe(e.readonly)?"-plaintext":""}`]:!0,[`form-control-${e.size}`]:e.size})),attr:j(()=>({...T(e.readonly,"readonly","readonly"),...T(e.disabled,"disabled","disabled"),...T(e.placeholder,"placeholder",`${e.placeholder}`)}))}}const Be={focused:{type:Boolean,default:void 0}};function Me(e,a){const s=p(!1);return e.focused&&pe(()=>{_e(a,async([{isIntersecting:r}])=>{s.value=r,r&&a.value&&(await ge(a.value),await nextTick(),a.value.focus())},{threshold:.1})}),{isIntersecting:s}}const Ne=B({__name:"FormInput",props:$({...Z,...q,...G,...W,...Be,tag:{type:String,default:"input"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,s=A(e,"modelValue"),r=p(),d=K(a),{classObject:l}=X(a,s),g=Q(a),y=J(a);Me(a,r);const c=N(g,y,d);return(t,f)=>D((b(),E("input",H(h(c),{ref_key:"elementRef",ref:r,"onUpdate:modelValue":f[0]||(f[0]=i=>s.value=i),class:h(l)}),null,16)),[[be,s.value]])}}),De=B({__name:"FormTextarea",props:$({...Z,...q,...G,...W,tag:{type:String,default:"textarea"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,s=A(e,"modelValue"),r=K(a),{classObject:d}=X(a,s),l=Q(a),g=J(a),y=N(l,g,r);return(c,t)=>D((b(),E("textarea",H(h(y),{"onUpdate:modelValue":t[0]||(t[0]=f=>s.value=f),class:h(d)}),null,16)),[[Y,s.value]])}});class z{constructor(){m(this,"value","");m(this,"valid");m(this,"resetValidation",()=>{this.valid=void 0})}getFormControlClass(){return this.valid==null?"":this.valid?"is-valid":"is-invalid"}}class R extends z{validate(){return this.valid=this.value.trim()!=="",this.valid}}class Ee extends z{validate(){return this.valid=this.value.trim()!=""&&this.value.trim().length<256,this.valid}}class ze extends z{constructor(){super(...arguments);m(this,"emailRegex",new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/));m(this,"validationError","")}validate(){return this.valid=this.value.trim()!="",this.valid?(this.valid=this.emailRegex.test(this.value.trim()),this.valid||(this.validationError="Sisestatud meiliaadress ei ole korrektne."),this.valid):(this.validationError="Meiliaadress on kohustuslik.",this.valid)}}class U{constructor(){m(this,"name",new Ee);m(this,"email",new ze);m(this,"phone",new R);m(this,"message",new R);m(this,"honeypot",{value:null});m(this,"accessKey",{value:atob("ZTAwNTU2ZjctYzBjOS00MzU1LWI3MmEtNzhiNjY2NzFkN2Nk")})}mapData(){return{name:this.name.value,email:this.email.value,phone:this.phone.value,message:this.message.value,honeypot:this.honeypot.value,accessKey:this.accessKey.value}}validateAll(){let a=!0;return a=this.name.validate()&&a,a=this.email.validate()&&a,a=this.phone.validate()&&a,a=this.message.validate()&&a,a}}const Le={class:"section-bg-gradient-opacity-to-bot page-pt"},Oe="aHR0cHM6Ly9hcGkuc3RhdGljZm9ybXMueHl6L3N1Ym1pdA==",Re=B({__name:"kontakt",setup(e){const a=p(!1),s=p(!1),r=p(),d=p(),l=p(new U),g=()=>(s.value=!0,l.value.validateAll()),y=async()=>{if(g())try{fetch(atob(Oe),{method:"POST",body:JSON.stringify(l.value.mapData()),headers:{"Content-Type":"application/json"}}).then(c=>{a.value=!0,l.value=new U,c.status===200?(d.value="text-success",r.value="Kiri saadetud! Võtan ühendust esimesel võimalusel."):(d.value="text-danger",r.value="Kirja saatmisel tekkis viga. Palun proovi hiljem uuesti või kirjuta mulle otse siretsormus@gmail.com"),window.scrollTo({top:0,behavior:"smooth"})})}catch(c){console.error(c)}};return(c,t)=>{const f=oe,i=ie,k=ye,w=xe,ee=ke,v=Fe,I=je,M=Ne,S=Se,te=De,ae=we,le=Ve;return b(),E("section",Le,[o(le,{class:"section"},{default:n(()=>[a.value?(b(),V(w,{key:0,padding:"t-7 t-md-6"},{default:n(()=>[o(k,null,{default:n(()=>[o(i,{shadow:"lg"},{default:n(()=>[o(f,{padding:"4"},{default:n(()=>[x("h3",{class:C(["mb-0 text-center",d.value])},O(r.value),3)]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),o(w,{padding:"t-7 t-md-6"},{default:n(()=>[o(k,{col:"12 lg-6"},{default:n(()=>[o(ee,{level:"2"},{default:n(()=>t[5]||(t[5]=[u(" Kontakt ")])),_:1}),o(v,null,{default:n(()=>t[6]||(t[6]=[u("Aja broneerimiseks ja murede puhul võta minuga julgelt ühendust!")])),_:1}),o(v,{class:"subheading mb-0"},{default:n(()=>t[7]||(t[7]=[u(" Telefon ")])),_:1}),o(v,null,{default:n(()=>t[8]||(t[8]=[u(" +372 5280 266 ")])),_:1}),o(v,{class:"subheading mb-0"},{default:n(()=>t[9]||(t[9]=[u(" Meiliaadress ")])),_:1}),o(v,null,{default:n(()=>t[10]||(t[10]=[u(" siretsormus@gmail.com ")])),_:1}),o(v,{class:"subheading mb-0"},{default:n(()=>t[11]||(t[11]=[u(" Ettevõte ")])),_:1}),o(v,null,{default:n(()=>t[12]||(t[12]=[u(" 2K Füsioteraapia OÜ"),x("br",null,null,-1),u(" Registrikood: 12377626"),x("br",null,null,-1),u(" THT kood: T00661"),x("br",null,null,-1),u(" Tegevusluba: L06771 ")])),_:1})]),_:1}),o(k,{col:"12 lg-6",margin:"t-5 t-lg-0"},{default:n(()=>[o(i,{shadow:"lg",class:"bg-white"},{default:n(()=>[o(f,null,{default:n(()=>[t[21]||(t[21]=x("p",{class:"text-end form-label"},"* - nõutud väli",-1)),x("div",null,[o(S,{margin:"b-3"},{default:n(()=>[o(I,{class:"form-label",for:"name"},{default:n(()=>t[13]||(t[13]=[u(" Nimi * ")])),_:1}),o(M,{id:"name",type:"text",modelValue:l.value.name.value,"onUpdate:modelValue":t[0]||(t[0]=_=>l.value.name.value=_),onInput:l.value.name.resetValidation,class:C(l.value.name.getFormControlClass())},null,8,["modelValue","onInput","class"]),l.value.name.valid==!1?(b(),V(v,{key:0,class:"text-danger"},{default:n(()=>t[14]||(t[14]=[u("Nimi on kohustuslik.")])),_:1})):F("",!0)]),_:1}),o(S,{margin:"b-3"},{default:n(()=>[o(I,{class:"form-label",for:"email"},{default:n(()=>t[15]||(t[15]=[u(" Meiliaadress * ")])),_:1}),o(M,{id:"email",type:"email",modelValue:l.value.email.value,"onUpdate:modelValue":t[1]||(t[1]=_=>l.value.email.value=_),onInput:l.value.email.resetValidation,class:C(l.value.email.getFormControlClass())},null,8,["modelValue","onInput","class"]),l.value.email.valid==!1?(b(),V(v,{key:0,class:"text-danger"},{default:n(()=>[u(O(l.value.email.validationError),1)]),_:1})):F("",!0)]),_:1}),o(S,{margin:"b-3"},{default:n(()=>[o(I,{class:"form-label",for:"phone"},{default:n(()=>t[16]||(t[16]=[u(" Telefoninumber * ")])),_:1}),o(M,{id:"phone",type:"tel",modelValue:l.value.phone.value,"onUpdate:modelValue":t[2]||(t[2]=_=>l.value.phone.value=_),onInput:l.value.phone.resetValidation,class:C(l.value.phone.getFormControlClass())},null,8,["modelValue","onInput","class"]),l.value.phone.valid==!1?(b(),V(v,{key:0,class:"text-danger"},{default:n(()=>t[17]||(t[17]=[u("Telefoninumber on kohustuslik. ")])),_:1})):F("",!0)]),_:1}),o(S,{margin:"b-3"},{default:n(()=>[o(I,{class:"form-label",for:"text"},{default:n(()=>t[18]||(t[18]=[u(" Sõnum * ")])),_:1}),o(te,{id:"text",rows:"3",modelValue:l.value.message.value,"onUpdate:modelValue":t[3]||(t[3]=_=>l.value.message.value=_),onInput:l.value.message.resetValidation,class:C(l.value.message.getFormControlClass())},null,8,["modelValue","onInput","class"]),l.value.message.valid==!1?(b(),V(v,{key:0,class:"text-danger"},{default:n(()=>t[19]||(t[19]=[u(" Sõnumi sisu on kohustuslik. ")])),_:1})):F("",!0)]),_:1}),D(x("input",{type:"hidden",id:"secret","onUpdate:modelValue":t[4]||(t[4]=_=>l.value.honeypot.value=_)},null,512),[[Y,l.value.honeypot.value]]),o(S,{display:"grid lg-flex",gap:"2","justify-content":"end"},{default:n(()=>[o(ae,{type:"submit",class:"click-btn btn-blink btn-tertiary",onClick:he(y,["prevent"])},{default:n(()=>t[20]||(t[20]=[u(" Saada sõnum ")])),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Ge=Ce(Re,[["__scopeId","data-v-0be964d0"]]);export{Ge as default};
